//=========================================================
// src/Interrupts.c: generated by Hardware Configurator
//
// This file will be regenerated when saving a document.
// leave the sections inside the "$[...]" comment tags alone
// or they will be overwritten!
//=========================================================

// USER INCLUDES			
#include <SI_EFM8LB1_Register_Enums.h>

//-----------------------------------------------------------------------------
// Global Constants
//-----------------------------------------------------------------------------
SI_SBIT(LED0, SFR_P1, 4);// P1.4 LED0
#define LED_ON  0
#define LED_OFF 1

//-----------------------------------------------------------------------------
// CLU_ISR
//-----------------------------------------------------------------------------
//
// CLU ISR Content goes here. Remember to clear flag bits:
// CLIF0::C0FIF (CLU0 Falling Edge Interrupt Flag)
// CLIF0::C0RIF (CLU0 Rising Edge Interrupt Flag)
//
// This routine changes the state of the green LED based on the CLU0 output.
//
//-----------------------------------------------------------------------------
SI_INTERRUPT(CL0_ISR, CL0_IRQn)
{
	CLIF0 &= ~(CLIF0_C0FIF__BMASK | CLIF0_C0RIF__BMASK); // Clear flags

	if (CLOUT0 & CLOUT0_C0OUT__BMASK)
	{
		LED0 = LED_ON;
	}
	else
	{
		LED0 = LED_OFF;
	}
}



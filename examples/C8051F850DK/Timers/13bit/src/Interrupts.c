//=========================================================
// src/Interupts.c: generated by Hardware Configurator
//
// This file will be regenerated when saving a document.
// leave the sections inside the "$[...]" comment tags alone
// or they will be overwritten!
//=========================================================

//-----------------------------------------------------------------------------
// Global Constants
//-----------------------------------------------------------------------------
// Configurator set for HFOSC/8 =
#define SYSCLK             3062000
// Configurator set for inital overflow of 100ms/10Hz.
// We use resulting TH and TL values as the reload values. they are:
#define TIMER0_RELOAD_HIGH    0x07
#define TIMER0_RELOAD_LOW     0x13

// USER INCLUDES
#include <SI_C8051F850_Register_Enums.h>

//-----------------------------------------------------------------------------
// Pin Definitions
//-----------------------------------------------------------------------------
SI_SBIT(LED1, SFR_P1, 0);                 // DS5 P1.0 LED

//-----------------------------------------------------------------------------
// TIMER0_ISR
//-----------------------------------------------------------------------------
//
// TIMER0 ISR Content goes here. Remember to clear flag bits:
// TCON::TF0 (Timer 0 Overflow Flag)
//
// Here we process the Timer0 interrupt and toggle the LED
//
//-----------------------------------------------------------------------------
SI_INTERRUPT(TIMER0_ISR, TIMER0_IRQn)
{
	   LED1 = !LED1;                       // Toggle the LED

	   TH0 = TIMER0_RELOAD_HIGH;           // Reinit Timer0 High register
	   TL0 = TIMER0_RELOAD_LOW;            // Reinit Timer0 Low register
}


